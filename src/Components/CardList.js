
import React, { Fragment, useState, useEffect } from 'react';

import Card from './Card';

const CardList = ({products, addToCart}) => {

    const [delay, setDelay] = useState(true)

    useEffect(() => {
        setDelay(true);
        setTimeout(() => {
            setDelay(false)
        }, 1000);
    }, [products])

    return (
        <Fragment>
            {
                delay ? <img src="data:image/jpeg;base64,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" alt="loader" className="loader" />
                :
                <div>
                    <span className="products-length">{products.length} Product(s) found.</span>
                    <div className="card-list">
                        {
                            products.length === 0 ? <p className="text-center">Sorry, No products of the specified categories :-(</p> :
                            products.map(item => {
                                return (
                                    <Card key={item.id} data={item} addToCart={addToCart} />
                                )
                            })
                        }
                    </div>
                </div>
            }
        </Fragment>
    )
}

export default CardList
